webpackJsonp([1],{"+n1s":function(t,i,s){"use strict";var n=s("teIl");i.a={name:"Notfind",data:function(){return{}},props:["isLogin","userInfo"],components:{HeaderTop:n.a},mounted:function(){},methods:{}}},"0mr8":function(t,i){},"5/LD":function(t,i,s){"use strict";i.a={name:"Rainyday"}},"7Ztb":function(t,i){},"8EOY":function(t,i,s){"use strict";var n=s("teIl"),e=s("bXvV"),a=s.n(e);i.a={name:"Signin",data:function(){return{signinData:{name:"",password:""}}},props:["isLogin","userInfo"],mounted:function(){},methods:{signin:function(){var t=this;a.a.ajax({url:"/api/signin",type:"POST",data:this.$data.signinData,dataType:"json",success:function(i){200===i.code?(t.$emit("getUserInfo"),t.$router.replace("/")):alert(i.message)}})}},components:{HeaderTop:n.a}}},"8Otp":function(t,i,s){"use strict";function n(t){s("0mr8")}var e=s("5/LD"),a=s("SNOM"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,null,null);i.a=h.exports},Asuo:function(t,i,s){"use strict";function n(t){s("Ns+F")}var e=s("8EOY"),a=s("Im/o"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,"data-v-7cc13300",null);i.a=h.exports},FwaV:function(t,i){},GPSw:function(t,i){},"HjV/":function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("HeaderTop",{attrs:{isLogin:t.isLogin,userInfo:t.userInfo}}),t._v(" "),s("div",{staticClass:"signup-wrap"},[s("div",{staticClass:"signup"},[s("div",{staticClass:"username"},[s("div",{staticClass:"l"},[t._v("昵称")]),t._v(" "),s("div",{staticClass:"r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupData.name,expression:"signupData.name"}],attrs:{type:"text",placeholder:"请输入昵称",name:"nickname"},domProps:{value:t.signupData.name},on:{input:function(i){i.target.composing||t.$set(t.signupData,"name",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"username"},[s("div",{staticClass:"l"},[t._v("密码")]),t._v(" "),s("div",{staticClass:"r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupData.password,expression:"signupData.password"}],attrs:{type:"password",name:"password",placeholder:"请输入密码，6-10位"},domProps:{value:t.signupData.password},on:{input:function(i){i.target.composing||t.$set(t.signupData,"password",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"username"},[s("div",{staticClass:"l"},[t._v("确认密码")]),t._v(" "),s("div",{staticClass:"r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupData.repassword,expression:"signupData.repassword"}],attrs:{type:"password",name:"password",placeholder:"请再次输入密码"},domProps:{value:t.signupData.repassword},on:{input:function(i){i.target.composing||t.$set(t.signupData,"repassword",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"intro"},[s("div",{staticClass:"l"},[t._v("简介")]),t._v(" "),s("div",{staticClass:"r"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.signupData.intro,expression:"signupData.intro"}],attrs:{name:"intro","max-length":"100",placeholder:"简单介绍一下～不要超过100字哦",id:"",cols:"30",rows:"10"},domProps:{value:t.signupData.intro},on:{input:function(i){i.target.composing||t.$set(t.signupData,"intro",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"confirm",on:{click:t.signup}},[t._v("注册")])])])],1)},e=[],a={render:n,staticRenderFns:e};i.a=a},"Im/o":function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("HeaderTop",{attrs:{isLogin:t.isLogin,userInfo:t.userInfo}}),t._v(" "),s("div",{staticClass:"signin-wrap"},[s("div",{staticClass:"signin"},[s("div",{staticClass:"username"},[s("div",{staticClass:"l"},[t._v("昵称")]),t._v(" "),s("div",{staticClass:"r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signinData.name,expression:"signinData.name"}],attrs:{type:"text",placeholder:"请输入昵称",name:"nickname"},domProps:{value:t.signinData.name},on:{input:function(i){i.target.composing||t.$set(t.signinData,"name",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"username"},[s("div",{staticClass:"l"},[t._v("密码")]),t._v(" "),s("div",{staticClass:"r"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signinData.password,expression:"signinData.password"}],attrs:{type:"password",name:"password",placeholder:"请输入密码，6-10位"},domProps:{value:t.signinData.password},on:{input:function(i){i.target.composing||t.$set(t.signinData,"password",i.target.value)}}})])]),t._v(" "),s("div",{staticClass:"confirm",on:{click:t.signin}},[t._v("登陆")])])])],1)},e=[],a={render:n,staticRenderFns:e};i.a=a},M93x:function(t,i,s){"use strict";function n(t){s("7Ztb")}var e=s("T4DX"),a=s("s4hZ"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,null,null);i.a=h.exports},NHnr:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=s("3MFX"),e=s("M93x"),a=s("YaEn");n.a.config.productionTip=!1,new n.a({el:"#app",router:a.a,template:"<App/>",components:{App:e.a}})},NOKN:function(t,i){},"Ns+F":function(t,i){},QM7w:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"main"},[s("HeaderTop",{attrs:{isLogin:t.isLogin,userInfo:t.userInfo}}),t._v(" "),s("img",{staticClass:"not",attrs:{src:"/static/img/404.jpg"}})],1)},e=[],a={render:n,staticRenderFns:e};i.a=a},SNOM:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement;return(t._self._c||i)("img",{attrs:{src:"",alt:"",id:"rainyday"}})},e=[],a={render:n,staticRenderFns:e};i.a=a},T4DX:function(t,i,s){"use strict";var n,e=s("8Otp"),a=s("bXvV"),o=s.n(a),r=s("wJVV").RainyDay,h={path:"http://p0xvqdrqy.bkt.clouddn.com/",names:["20171010-DSC_2019.jpg","20171010-DSC_2020.jpg","20171010-DSC_2068.jpg","20171010-DSC_2075.jpg","20171010-DSC_2077.jpg","20171010-DSC_2078.jpg","20171010-DSC_2085.jpg","20171010-DSC_2091.jpg","20171010-DSC_2190.jpg","20171010-DSC_2198.jpg","20171010-DSC_2223.jpg","20171010-DSC_2357.jpg","20171011-DSC_2363.jpg","20171011-DSC_2367.jpg"]};i.a={name:"app",data:function(){return{userInfo:"",isLogin:!1}},created:function(){},mounted:function(){this.getUserInfo(),this.$nextTick(function(){var t=this,i=document.querySelector("#rainyday");i.onload=function(){n=new r({image:i,height:window.innerHeight,width:window.innerWidth}),n.canvas.id="rainCanvas",~["signin","signup"].indexOf(t.$route.name)?n.canvas.style.display="block":n.canvas.style.display="none",n.rain([[3,3,.88],[5,5,.9],[6,2,1]],100),this.crossOrigin="anonymous",this.style.visibility="hidden"},i.crossOrigin="Anonymous",i.src=h.path+h.names[Math.floor(Math.random()*h.names.length)]})},methods:{getUserInfo:function(){var t=this;o.a.ajax({url:"/api/get_user_info",type:"get",dataType:"json",success:function(i){200===i.code?(t.userInfo=i.data,t.isLogin=!0,sessionStorage.setItem("isLogin","1")):(t.userInfo="",t.isLogin=!1,sessionStorage.removeItem("isLogin"))},error:function(t){console.log(t)}})}},watch:{$route:function(){~["signin","signup"].indexOf(this.$route.name)?n.canvas.style.display="block":n.canvas.style.display="none"}},components:{Rain:e.a}}},YaEn:function(t,i,s){"use strict";var n=s("3MFX"),e=s("1eSk"),a=s("psOb"),o=s("Asuo"),r=(s("jyJz"),s("s6+2")),h=s("sKU7");n.a.use(e.a);var c=new e.a({mode:"history",routes:[{path:"*",name:"",component:h.a},{path:"/",name:"index",component:r.a},{path:"/signup",name:"signup",component:a.a},{path:"/signin",name:"signin",component:o.a}]});c.beforeEach(function(t,i,s){sessionStorage.getItem("isLogin")&&~["signin","signup"].indexOf(t.name)&&s({path:"/"}),s()}),i.a=c},jyJz:function(t,i,s){"use strict";function n(t){s("GPSw")}var e=s("rRj/"),a=s("xujK"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,"data-v-227d5db4",null);i.a=h.exports},lGOp:function(t,i,s){"use strict";var n=s("jyJz");i.a={name:"Header",data:function(){return{}},props:["isLogin","userInfo"],mounted:function(){console.log(this),console.log("header")},components:{User:n.a},methods:{showInfo:function(t){this.$children[0].$el.style.display="block"===this.$children[0].$el.style.display?"none":"block"}}}},m5EM:function(t,i){},nvgx:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("header",[s("div",{staticClass:"right"},[t.isLogin?s("div",{staticClass:"user"},[s("span",{staticClass:"avatar",on:{click:t.showInfo}},[s("img",{attrs:{src:"/static/img/20171010-DSC_2223.jpg",alt:""}})]),t._v(" "),s("User",{attrs:{userInfo:t.userInfo}})],1):s("div",{staticClass:"nologin"},[s("router-link",{attrs:{to:"/signup"}},[t._v("注册")]),t._v(" |\n            "),s("router-link",{attrs:{to:"/signin"}},[t._v("登陆")])],1)])])},e=[],a={render:n,staticRenderFns:e};i.a=a},oYxs:function(t,i,s){"use strict";var n=s("teIl"),e=s("bXvV"),a=s.n(e);i.a={name:"Signup",data:function(){return{signupData:{name:"",password:"",repassword:"",intro:""}}},mounted:function(){console.log(this)},props:["isLogin","userInfo"],methods:{signup:function(){var t=this;a.a.ajax({url:"/api/signup",type:"POST",data:this.$data.signupData,dataType:"json",success:function(i){200===i.code?t.$router.push("/signin"):alert(i.message)}})}},components:{HeaderTop:n.a}}},p4Nb:function(t,i){},psOb:function(t,i,s){"use strict";function n(t){s("m5EM")}var e=s("oYxs"),a=s("HjV/"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,"data-v-2970cc23",null);i.a=h.exports},qU7O:function(t,i,s){"use strict";var n=s("teIl"),e=s("bXvV");s.n(e);i.a={name:"Main",data:function(){return{}},props:["isLogin","userInfo"],components:{HeaderTop:n.a},mounted:function(){console.log(this)},methods:{}}},"rRj/":function(t,i,s){"use strict";var n=s("bXvV"),e=s.n(n);i.a={name:"User",data:function(){return{}},props:["userInfo"],mounted:function(){},methods:{signout:function(){e.a.ajax({url:"/api/signout",type:"get",dataType:"json",success:function(t){200===t.code?location.reload():alert(t.message)}})}}}},s4hZ:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"app"}},[s("router-view",{attrs:{isLogin:t.isLogin,userInfo:t.userInfo},on:{getUserInfo:t.getUserInfo}}),t._v(" "),s("Rain")],1)},e=[],a={render:n,staticRenderFns:e};i.a=a},"s6+2":function(t,i,s){"use strict";function n(t){s("p4Nb")}var e=s("qU7O"),a=s("vqSd"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,"data-v-0df53703",null);i.a=h.exports},sKU7:function(t,i,s){"use strict";function n(t){s("FwaV")}var e=s("+n1s"),a=s("QM7w"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,"data-v-296aa830",null);i.a=h.exports},teIl:function(t,i,s){"use strict";function n(t){s("NOKN")}var e=s("lGOp"),a=s("nvgx"),o=s("XAIM"),r=n,h=o(e.a,a.a,!1,r,null,null);i.a=h.exports},vqSd:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"main"},[s("HeaderTop",{attrs:{isLogin:t.isLogin,userInfo:t.userInfo}})],1)},e=[],a={render:n,staticRenderFns:e};i.a=a},wJVV:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),function(t){var i=s("GxZn"),n=s.n(i);!function(i,e){"object"===("undefined"==typeof exports?"undefined":n()(exports))&&void 0!==t?t.exports=e():"function"==typeof define&&s("YsXf")?define(e):i.RainyDay=e()}(this,function(t,i){function s(t,i){if(this===window)return new s(t,i);this.img=t.image;var n={opacity:1,blur:10,crop:[0,0,this.img.naturalWidth,this.img.naturalHeight],enableSizeChange:!0,parentElement:document.getElementsByTagName("body")[0],fps:30,fillStyle:"#8ED6FF",enableCollisions:!0,gravityThreshold:3,gravityAngle:Math.PI/2,gravityAngleVariance:0,reflectionScaledownFactor:5,reflectionDropMappingWidth:200,reflectionDropMappingHeight:200,width:this.img.clientWidth,height:this.img.clientHeight,position:"absolute",top:0,left:0};for(var e in n)void 0===t[e]&&(t[e]=n[e]);this.options=t,this.drops=[],this.canvas=i||this.prepareCanvas(),this.prepareBackground(),this.prepareGlass(),this.reflection=this.REFLECTION_MINIATURE,this.trail=this.TRAIL_DROPS,this.gravity=this.GRAVITY_NON_LINEAR,this.collision=this.COLLISION_SIMPLE,this.setRequestAnimFrame()}function n(t,i,s,n,e){this.x=Math.floor(i),this.y=Math.floor(s),this.r=Math.random()*e+n,this.rainyday=t,this.context=t.context,this.reflection=t.reflected}function e(){this.r=0,this.g=0,this.b=0,this.next=null}function a(t,i,s){this.resolution=s,this.xc=t,this.yc=i,this.matrix=new Array(t);for(var n=0;n<=t+5;n++){this.matrix[n]=new Array(i);for(var e=0;e<=i+5;++e)this.matrix[n][e]=new o(null)}}function o(t){this.drop=t,this.next=null}return s.prototype.prepareCanvas=function(){var t=document.createElement("canvas");return t.style.position=this.options.position,t.style.top=this.options.top,t.style.left=this.options.left,t.width=this.options.width,t.height=this.options.height,this.options.parentElement.appendChild(t),this.options.enableSizeChange&&this.setResizeHandler(),t},s.prototype.setResizeHandler=function(){null!==window.onresize?window.setTimeout(this.checkSize.bind(this),100):(window.onresize=this.checkSize.bind(this),window.onorientationchange=this.checkSize.bind(this))},s.prototype.checkSize=function(){var t=this.img.clientWidth,i=this.img.clientHeight,s=(this.img.offsetLeft,this.img.offsetTop,this.canvas.width),n=this.canvas.height;this.canvas.offsetLeft,this.canvas.offsetTop;s===t&&n===i||(this.canvas.width=t,this.canvas.height=i,this.prepareBackground(),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.prepareReflections())},s.prototype.animateDrops=function(){this.addDropCallback&&this.addDropCallback();for(var t=this.drops.slice(),i=[],s=0;s<t.length;++s)t[s].animate()&&i.push(t[s]);this.drops=i,this.requestID=window.requestAnimFrame(this.animateDrops.bind(this))},s.prototype.pause=function(){window.cancelAnimationFrame(this.requestID)},s.prototype.resume=function(){this.requestID=window.requestAnimFrame(this.animateDrops.bind(this))},s.prototype.setRequestAnimFrame=function(){var t=this.options.fps;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(i){window.setTimeout(i,1e3/t)}}()},s.prototype.prepareReflections=function(){this.reflected=document.createElement("canvas"),this.reflected.width=this.canvas.width/this.options.reflectionScaledownFactor,this.reflected.height=this.canvas.height/this.options.reflectionScaledownFactor,this.reflected.getContext("2d").drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.reflected.width,this.reflected.height)},s.prototype.prepareGlass=function(){this.glass=document.createElement("canvas"),this.glass.width=this.canvas.width,this.glass.height=this.canvas.height,this.context=this.glass.getContext("2d")},s.prototype.rain=function(t,i){if(this.reflection!==this.REFLECTION_NONE&&this.prepareReflections(),this.animateDrops(),this.presets=t,this.PRIVATE_GRAVITY_FORCE_FACTOR_Y=.001*this.options.fps/25,this.PRIVATE_GRAVITY_FORCE_FACTOR_X=(Math.PI/2-this.options.gravityAngle)*(.001*this.options.fps)/50,this.options.enableCollisions){for(var s=0,e=0;e<t.length;e++)t[e][0]+t[e][1]>s&&(s=Math.floor(t[e][0]+t[e][1]));if(s>0){var o=Math.ceil(this.canvas.width/s),r=Math.ceil(this.canvas.height/s);this.matrix=new a(o,r,s)}else this.options.enableCollisions=!1}for(var e=0;e<t.length;e++)t[e][3]||(t[e][3]=-1);var h=0;this.addDropCallback=function(){var s=(new Date).getTime();if(!(s-h<i)){h=s;var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.drawImage(this.background,0,0,this.canvas.width,this.canvas.height);for(var a,o=0;o<t.length;o++)if(t[o][2]>1||-1===t[o][3]){if(0!==t[o][3]){t[o][3]--;for(var r=0;r<t[o][2];++r)this.putDrop(new n(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,t[o][0],t[o][1]))}}else if(Math.random()<t[o][2]){a=t[o];break}a&&this.putDrop(new n(this,Math.random()*this.canvas.width,Math.random()*this.canvas.height,a[0],a[1])),e.save(),e.globalAlpha=this.options.opacity,e.drawImage(this.glass,0,0,this.canvas.width,this.canvas.height),e.restore()}}.bind(this)},s.prototype.putDrop=function(t){t.draw(),this.gravity&&t.r>this.options.gravityThreshold&&(this.options.enableCollisions&&this.matrix.update(t),this.drops.push(t))},s.prototype.clearDrop=function(t,i){var s=t.clear(i);if(s){var n=this.drops.indexOf(t);n>=0&&this.drops.splice(n,1)}return s},n.prototype.draw=function(){this.context.save(),this.context.beginPath();var t=this.r;if(this.r=.95*this.r,this.r<3)this.context.arc(this.x,this.y,this.r,0,2*Math.PI,!0),this.context.closePath();else if(this.colliding||this.yspeed>2){if(this.colliding){var i=this.colliding;this.r=1.001*(this.r>i.r?this.r:i.r),this.x+=i.x-this.x,this.colliding=null}var s=1+.1*this.yspeed;this.context.moveTo(this.x-this.r/s,this.y),this.context.bezierCurveTo(this.x-this.r,this.y-2*this.r,this.x+this.r,this.y-2*this.r,this.x+this.r/s,this.y),this.context.bezierCurveTo(this.x+this.r,this.y+s*this.r,this.x-this.r,this.y+s*this.r,this.x-this.r/s,this.y)}else this.context.arc(this.x,this.y,.9*this.r,0,2*Math.PI,!0),this.context.closePath();this.context.clip(),this.r=t,this.rainyday.reflection&&this.rainyday.reflection(this),this.context.restore()},n.prototype.clear=function(t){return this.context.clearRect(this.x-this.r-1,this.y-this.r-2,2*this.r+2,2*this.r+2),t?(this.terminate=!0,!0):this.y-this.r>this.rainyday.canvas.height||this.x-this.r>this.rainyday.canvas.width||this.x+this.r<0},n.prototype.animate=function(){if(this.terminate)return!1;var t=this.rainyday.gravity(this);if(!t&&this.rainyday.trail&&this.rainyday.trail(this),this.rainyday.options.enableCollisions){var i=this.rainyday.matrix.update(this,t);i&&this.rainyday.collision(this,i)}return!t||this.terminate},s.prototype.TRAIL_NONE=function(){},s.prototype.TRAIL_DROPS=function(t){(!t.trailY||t.y-t.trailY>=100*Math.random()*t.r)&&(t.trailY=t.y,this.putDrop(new n(this,t.x+(2*Math.random()-1)*Math.random(),t.y-t.r-5,Math.ceil(t.r/5),0)))},s.prototype.TRAIL_SMUDGE=function(t){var i=t.y-t.r-3,s=t.x-t.r/2+2*Math.random();i<0||s<0||this.context.drawImage(this.clearbackground,s,i,t.r,2,s,i,t.r,2)},s.prototype.GRAVITY_NONE=function(){return!0},s.prototype.GRAVITY_LINEAR=function(t){return!!this.clearDrop(t)||(t.yspeed?(t.yspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(t.r),t.xspeed+=this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(t.r)):(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),t.y+=t.yspeed,t.draw(),!1)},s.prototype.GRAVITY_NON_LINEAR=function(t){return!!this.clearDrop(t)||(t.collided?(t.collided=!1,t.seed=Math.floor(t.r*Math.random()*this.options.fps),t.skipping=!1,t.slowing=!1):(!t.seed||t.seed<0)&&(t.seed=Math.floor(t.r*Math.random()*this.options.fps),t.skipping=!1===t.skipping,t.slowing=!0),t.seed--,t.yspeed?t.slowing?(t.yspeed/=1.1,t.xspeed/=1.1,t.yspeed<this.PRIVATE_GRAVITY_FORCE_FACTOR_Y&&(t.slowing=!1)):t.skipping?(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X):(t.yspeed+=1*this.PRIVATE_GRAVITY_FORCE_FACTOR_Y*Math.floor(t.r),t.xspeed+=1*this.PRIVATE_GRAVITY_FORCE_FACTOR_X*Math.floor(t.r)):(t.yspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_Y,t.xspeed=this.PRIVATE_GRAVITY_FORCE_FACTOR_X),0!==this.options.gravityAngleVariance&&(t.xspeed+=(2*Math.random()-1)*t.yspeed*this.options.gravityAngleVariance),t.y+=t.yspeed,t.x+=t.xspeed,t.draw(),!1)},s.prototype.positiveMin=function(t,i){var s=0;return s=t<i?t<=0?i:t:i<=0?t:i,s<=0?1:s},s.prototype.REFLECTION_NONE=function(){this.context.fillStyle=this.options.fillStyle,this.context.fill()},s.prototype.REFLECTION_MINIATURE=function(t){var i=Math.max((t.x-this.options.reflectionDropMappingWidth)/this.options.reflectionScaledownFactor,0),s=Math.max((t.y-this.options.reflectionDropMappingHeight)/this.options.reflectionScaledownFactor,0),n=this.positiveMin(2*this.options.reflectionDropMappingWidth/this.options.reflectionScaledownFactor,this.reflected.width-i),e=this.positiveMin(2*this.options.reflectionDropMappingHeight/this.options.reflectionScaledownFactor,this.reflected.height-s),a=Math.max(t.x-1.1*t.r,0),o=Math.max(t.y-1.1*t.r,0);this.context.drawImage(this.reflected,i,s,n,e,a,o,2*t.r,2*t.r)},s.prototype.COLLISION_SIMPLE=function(t,i){for(var s,n=i;null!=n;){var e=n.drop,a=t.r+e.r,o=t.x-e.x,r=t.y-e.y;if(Math.abs(o)<a&&Math.abs(r)<a&&Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<t.r+e.r){s=e;break}n=n.next}if(s){var h,c;t.y>s.y?(h=t,c=s):(h=s,c=t),this.clearDrop(c),this.clearDrop(h,!0),this.matrix.remove(h),c.draw(),c.colliding=h,c.collided=!0}},s.prototype.prepareBackground=function(){this.background=document.createElement("canvas"),this.background.width=this.canvas.width,this.background.height=this.canvas.height,this.clearbackground=document.createElement("canvas"),this.clearbackground.width=this.canvas.width,this.clearbackground.height=this.canvas.height;var t=this.background.getContext("2d");t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),t=this.clearbackground.getContext("2d"),t.clearRect(0,0,this.canvas.width,this.canvas.height),t.drawImage(this.img,this.options.crop[0],this.options.crop[1],this.options.crop[2],this.options.crop[3],0,0,this.canvas.width,this.canvas.height),!isNaN(this.options.blur)&&this.options.blur>=1&&this.stackBlurCanvasRGB(this.canvas.width,this.canvas.height,this.options.blur)},s.prototype.stackBlurCanvasRGB=function(t,i,s){var n=[[0,9],[1,11],[2,12],[3,13],[5,14],[7,15],[11,16],[15,17],[22,18],[31,19],[45,20],[63,21],[90,22],[127,23],[181,24]],a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];s|=0;var o,r,h,c,p,l,d,u,g,f,m,v,y,x,w,_,I,C,R,A,T=this.background.getContext("2d"),D=T.getImageData(0,0,t,i),M=D.data,b=s+1,E=b*(b+1)/2,O=new e,F=new e,S=O;for(h=1;h<2*s+1;h++)S=S.next=new e,h===b&&(F=S);S.next=O;var k=null,V=null;d=l=0;for(var N,L=a[s],j=0;j<n.length;++j)if(s<=n[j][0]){N=n[j-1][1];break}for(r=0;r<i;r++){for(x=w=_=u=g=f=0,m=b*(I=M[l]),v=b*(C=M[l+1]),y=b*(R=M[l+2]),u+=E*I,g+=E*C,f+=E*R,S=O,h=0;h<b;h++)S.r=I,S.g=C,S.b=R,S=S.next;for(h=1;h<b;h++)c=l+((t-1<h?t-1:h)<<2),u+=(S.r=I=M[c])*(A=b-h),g+=(S.g=C=M[c+1])*A,f+=(S.b=R=M[c+2])*A,x+=I,w+=C,_+=R,S=S.next;for(k=O,V=F,o=0;o<t;o++)M[l]=u*L>>N,M[l+1]=g*L>>N,M[l+2]=f*L>>N,u-=m,g-=v,f-=y,m-=k.r,v-=k.g,y-=k.b,c=d+((c=o+s+1)<t-1?c:t-1)<<2,x+=k.r=M[c],w+=k.g=M[c+1],_+=k.b=M[c+2],u+=x,g+=w,f+=_,k=k.next,m+=I=V.r,v+=C=V.g,y+=R=V.b,x-=I,w-=C,_-=R,V=V.next,l+=4;d+=t}for(o=0;o<t;o++){for(w=_=x=g=f=u=0,l=o<<2,m=b*(I=M[l]),v=b*(C=M[l+1]),y=b*(R=M[l+2]),u+=E*I,g+=E*C,f+=E*R,S=O,h=0;h<b;h++)S.r=I,S.g=C,S.b=R,S=S.next;for(p=t,h=1;h<b;h++)l=p+o<<2,u+=(S.r=I=M[l])*(A=b-h),g+=(S.g=C=M[l+1])*A,f+=(S.b=R=M[l+2])*A,x+=I,w+=C,_+=R,S=S.next,h<i-1&&(p+=t);for(l=o,k=O,V=F,r=0;r<i;r++)c=l<<2,M[c]=u*L>>N,M[c+1]=g*L>>N,M[c+2]=f*L>>N,u-=m,g-=v,f-=y,m-=k.r,v-=k.g,y-=k.b,c=o+((c=r+b)<i-1?c:i-1)*t<<2,u+=x+=k.r=M[c],g+=w+=k.g=M[c+1],f+=_+=k.b=M[c+2],k=k.next,m+=I=V.r,v+=C=V.g,y+=R=V.b,x-=I,w-=C,_-=R,V=V.next,l+=t}T.putImageData(D,0,0)},a.prototype.update=function(t,i){if(t.gid){if(!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;if(this.matrix[t.gmx][t.gmy].remove(t),i)return null;if(t.gmx=Math.floor(t.x/this.resolution),t.gmy=Math.floor(t.y/this.resolution),!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;this.matrix[t.gmx][t.gmy].add(t);var s=this.collisions(t);if(s&&null!=s.next)return s.next}else{if(t.gid=Math.random().toString(36).substr(2,9),t.gmx=Math.floor(t.x/this.resolution),t.gmy=Math.floor(t.y/this.resolution),!this.matrix[t.gmx]||!this.matrix[t.gmx][t.gmy])return null;this.matrix[t.gmx][t.gmy].add(t)}return null},a.prototype.collisions=function(t){var i=new o(null),s=i;return i=this.addAll(i,t.gmx-1,t.gmy+1),i=this.addAll(i,t.gmx,t.gmy+1),i=this.addAll(i,t.gmx+1,t.gmy+1),s},a.prototype.addAll=function(t,i,s){if(i>0&&s>0&&i<this.xc&&s<this.yc)for(var n=this.matrix[i][s];null!=n.next;)n=n.next,t.next=new o(n.drop),t=t.next;return t},a.prototype.remove=function(t){this.matrix[t.gmx][t.gmy].remove(t)},o.prototype.add=function(t){for(var i=this;null!=i.next;)i=i.next;i.next=new o(t)},o.prototype.remove=function(t){for(var i=this,s=null;null!=i.next;)s=i,i=i.next,i.drop.gid===t.gid&&(s.next=i.next)},s})}.call(i,s("oQfh")(t))},xujK:function(t,i,s){"use strict";var n=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{ref:"userinfo-wrap",staticClass:"userinfo-wrap"},[s("div",{staticClass:"userinfo"},[s("div",{staticClass:"username"},[t._v("昵称 : "+t._s(t.userInfo.name))]),t._v(" "),s("div",{staticClass:"signout",on:{click:t.signout}},[t._v("退出登录")])])])},e=[],a={render:n,staticRenderFns:e};i.a=a}},["NHnr"]);
//# sourceMappingURL=app.0f0bf94f97888e7e4ab2.js.map